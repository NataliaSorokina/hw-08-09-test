{"version":3,"sources":["js/refs.js","js/gallery-items.js","index.js"],"names":["gallery","document","querySelector","lightbox","overlay","card","image","btn","preview","original","description","galleryItem","createGalleryItemsMarkup","items","map","join","modalWindowOpenHandler","event","preventDefault","addEventListener","modalWindowCloseHandler","overlayClickHandler","window","escKeyPressHandler","imagesScrollHandler","target","nodeName","classList","add","src","dataset","source","alt","removeEventListener","remove","currentTarget","code","imagesArray","querySelectorAll","imagesSrc","forEach","push","imagesAlt","currentImageIndex","indexOf","refs","currentAltIndex","length","insertAdjacentHTML"],"mappings":"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","file":"src.7f843dcd.js","sourceRoot":"../src","sourcesContent":["export default {\n    gallery: document.querySelector('.js-gallery'),\n    lightbox: document.querySelector('.js-lightbox'),\n    overlay: document.querySelector('.lightbox__overlay'),\n    card: document.querySelector('.lightbox__content'),\n    image: document.querySelector('.lightbox__image'),\n    btn: document.querySelector('.lightbox__button'),\n};","export default [\n    {\n        preview:\n            'https://cdn.pixabay.com/photo/2019/05/14/16/43/himilayan-blue-poppy-4202825__340.jpg',\n        original:\n            'https://cdn.pixabay.com/photo/2019/05/14/16/43/himilayan-blue-poppy-4202825_1280.jpg',\n        description: 'Hokkaido Flower',\n    },\n    {\n        preview:\n            'https://cdn.pixabay.com/photo/2019/05/14/22/05/container-4203677__340.jpg',\n        original:\n            'https://cdn.pixabay.com/photo/2019/05/14/22/05/container-4203677_1280.jpg',\n        description: 'Container Haulage Freight',\n    },\n    {\n        preview:\n            'https://cdn.pixabay.com/photo/2019/05/16/09/47/beach-4206785__340.jpg',\n        original:\n            'https://cdn.pixabay.com/photo/2019/05/16/09/47/beach-4206785_1280.jpg',\n        description: 'Aerial Beach View',\n    },\n    {\n        preview:\n            'https://cdn.pixabay.com/photo/2016/11/18/16/19/flowers-1835619__340.jpg',\n        original:\n            'https://cdn.pixabay.com/photo/2016/11/18/16/19/flowers-1835619_1280.jpg',\n        description: 'Flower Blooms',\n    },\n    {\n        preview:\n            'https://cdn.pixabay.com/photo/2018/09/13/10/36/mountains-3674334__340.jpg',\n        original:\n            'https://cdn.pixabay.com/photo/2018/09/13/10/36/mountains-3674334_1280.jpg',\n        description: 'Alpine Mountains',\n    },\n    {\n        preview:\n            'https://cdn.pixabay.com/photo/2019/05/16/23/04/landscape-4208571__340.jpg',\n        original:\n            'https://cdn.pixabay.com/photo/2019/05/16/23/04/landscape-4208571_1280.jpg',\n        description: 'Mountain Lake Sailing',\n    },\n    {\n        preview:\n            'https://cdn.pixabay.com/photo/2019/05/17/09/27/the-alps-4209272__340.jpg',\n        original:\n            'https://cdn.pixabay.com/photo/2019/05/17/09/27/the-alps-4209272_1280.jpg',\n        description: 'Alpine Spring Meadows',\n    },\n    {\n        preview:\n            'https://cdn.pixabay.com/photo/2019/05/16/21/10/landscape-4208255__340.jpg',\n        original:\n            'https://cdn.pixabay.com/photo/2019/05/16/21/10/landscape-4208255_1280.jpg',\n        description: 'Nature Landscape',\n    },\n    {\n        preview:\n            'https://cdn.pixabay.com/photo/2019/05/17/04/35/lighthouse-4208843__340.jpg',\n        original:\n            'https://cdn.pixabay.com/photo/2019/05/17/04/35/lighthouse-4208843_1280.jpg',\n        description: 'Lighthouse Coast Sea',\n    },\n];","import './sass/main.scss';\nimport refs from './js/refs.js';\nimport items from './js/gallery-items.js';\n\nconst galleryItem = createGalleryItemsMarkup(items);\nrefs.gallery.insertAdjacentHTML('beforeend', galleryItem);\n\nrefs.gallery.addEventListener('click', modalWindowOpenHandler);\n\n\nfunction createGalleryItemsMarkup(items) {\n    return items\n        .map(({ preview, original, description }) => {\n            return `\n            <li class=\"gallery__item\">\n                <a\n                    class=\"gallery__link\"\n                    href='${original}'\n                >\n                    <img\n                    class=\"gallery__image\"\n                    src='${preview}'\n                    data-source = '${original}'\n                    alt='${description}'\n                    />\n                </a>\n            </li>\n            `;\n        })\n        .join('');\n}\n\n\nfunction modalWindowOpenHandler(event) {\n    event.preventDefault();\n    refs.btn.addEventListener('click', modalWindowCloseHandler);\n    refs.overlay.addEventListener('click', overlayClickHandler);\n    window.addEventListener('keydown', escKeyPressHandler);\n    window.addEventListener('keydown', imagesScrollHandler);\n\n    if (event.target.nodeName !== 'IMG') {\n        return;\n    }\n\n    refs.lightbox.classList.add('is-open');\n    refs.image.src = event.target.dataset.source;\n    refs.image.alt = event.target.alt;\n}\n\nfunction modalWindowCloseHandler() {\n    refs.btn.addEventListener('click', modalWindowCloseHandler);\n    refs.overlay.addEventListener('click', overlayClickHandler);\n    window.removeEventListener('keydown', escKeyPressHandler);\n    window.removeEventListener('keydown', imagesScrollHandler);\n    refs.lightbox.classList.remove('is-open');\n    refs.image.src = '';\n    refs.image.alt = '';\n}\n\nfunction overlayClickHandler(event) {\n    if (event.currentTarget === event.target) {\n        modalWindowCloseHandler();\n    }\n}\n\nfunction escKeyPressHandler(event) {\n    if (event.code === 'Escape') {\n        modalWindowCloseHandler();\n    }\n}\n\nfunction imagesScrollHandler(event) {\n    const imagesArray = document.querySelectorAll('.gallery__image');\n    const imagesSrc = [];\n    imagesArray.forEach(image => imagesSrc.push(image.dataset.source));\n    const imagesAlt = [];\n    imagesArray.forEach(image => imagesAlt.push(image.alt));\n    let currentImageIndex = imagesSrc.indexOf(refs.image.src);\n    let currentAltIndex = imagesAlt.indexOf(refs.image.alt);\n\n    if (event.code === 'ArrowLeft') {\n        if (currentImageIndex === 0 && currentAltIndex === 0) {\n            currentImageIndex = imagesSrc.length - 1;\n            currentAltIndex = imagesAlt.length - 1;\n        } else {\n            currentImageIndex -= 1;\n            currentAltIndex -= 1;\n        }\n    }\n    if (event.code === 'ArrowRight') {\n        if (currentImageIndex === imagesSrc.length - 1 && currentAltIndex === imagesAlt.length - 1) {\n            currentImageIndex = 0;\n            currentAltIndex = 0;\n        } else {\n            currentImageIndex += 1;\n            currentAltIndex += 1;\n        }\n    }\n    refs.image.src = imagesSrc[currentImageIndex];\n    refs.image.alt = imagesAlt[currentAltIndex];\n\n}\n"]}